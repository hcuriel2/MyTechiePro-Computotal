{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/shared/services/auth.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@ngx-translate/core\";\nfunction SettingsComponent_button_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 13);\n    i0.ɵɵtext(1, \"Edit\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let SettingsComponent = /*#__PURE__*/(() => {\n  class SettingsComponent {\n    constructor(changeDetectorRef, router, route, authService) {\n      var _a;\n      this.changeDetectorRef = changeDetectorRef;\n      this.router = router;\n      this.route = route;\n      this.authService = authService;\n      this.isCustomer = true; // If technician, re-route to tech page.\n      this.hasMfa = false;\n      this.token = \"\";\n      this.verifyStatus = '';\n      this.mfaRequested = false;\n      this.formDisabled = true;\n      this.userId = '';\n      this.hasMfa = !!((_a = this.authService.userValue) === null || _a === void 0 ? void 0 : _a.secret);\n    }\n    // Displays homepage to client, if user is technician projects page is displayed instead\n    ngOnInit() {\n      this.populateForm();\n    }\n    populateForm() {\n      this.authService.getUserInfo().subscribe({\n        next: user => {\n          var _a, _b, _c, _d;\n          if (user) {\n            this.userId = user._id;\n            const firstName = document.getElementById('firstName');\n            const lastName = document.getElementById('lastName');\n            const email = document.getElementById('email');\n            const street = document.getElementById('street');\n            const city = document.getElementById('city');\n            const country = document.getElementById('country');\n            const postalCode = document.getElementById('postalCode');\n            if (firstName) firstName.value = user.firstName || '';\n            if (lastName) lastName.value = user.lastName || '';\n            if (email) email.value = user.email || '';\n            if (street) street.value = (_a = user.address) === null || _a === void 0 ? void 0 : _a.street;\n            if (city) city.value = (_b = user.address) === null || _b === void 0 ? void 0 : _b.city;\n            if (country) country.value = (_c = user.address) === null || _c === void 0 ? void 0 : _c.country;\n            if (postalCode) postalCode.value = (_d = user.address) === null || _d === void 0 ? void 0 : _d.postalCode;\n          }\n        }\n      });\n    }\n    enableForm() {\n      this.formDisabled = false;\n    }\n    submitForm() {\n      const updatedUserInfo = {\n        firstName: document.getElementById('firstName').value,\n        lastName: document.getElementById('lastName').value,\n        email: document.getElementById('email').value,\n        street: document.getElementById('street').value,\n        city: document.getElementById('city').value,\n        country: document.getElementById('country').value,\n        postalCode: document.getElementById('postalCode').value\n      };\n      this.authService.updateUserSettings(this.userId, updatedUserInfo).subscribe({\n        next: response => {\n          